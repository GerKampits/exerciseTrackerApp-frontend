{"ast":null,"code":"import { orderBy } from 'lodash-es';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/common\";\nfunction UsersListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \" Loading Users...\\n\");\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelement(3, \"span\", 4);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UsersListComponent_div_1_tr_19_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const phone_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(phone_r5.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", phone_r5.number, \" \");\n  }\n}\nfunction UsersListComponent_div_1_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtemplate(14, UsersListComponent_div_1_tr_19_div_14_Template, 5, 2, \"div\", 8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.username, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.surname, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.email, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.bodyMeasurements.height, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r3.bodyMeasurements.weight, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", user_r3.phone);\n  }\n}\nfunction UsersListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 5)(2, \"thead\")(3, \"th\", 6)(4, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_div_1_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.toggleSort(\"username\"));\n    });\n    i0.ɵɵtext(5, \" username\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"th\", 6)(7, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_div_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.toggleSort(\"name\"));\n    });\n    i0.ɵɵtext(8, \" First\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"th\", 6)(10, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_div_1_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.toggleSort(\"surname\"));\n    });\n    i0.ɵɵtext(11, \" Last\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"th\", 6);\n    i0.ɵɵtext(13, \" Email \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 6);\n    i0.ɵɵtext(15, \" bodyMeasurements \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 6);\n    i0.ɵɵtext(17, \" Phone \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, UsersListComponent_div_1_tr_19_Template, 15, 7, \"tr\", 8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.userList);\n  }\n}\nexport class UsersListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.loading = false;\n    this.userList = [];\n    this.usernameSortType = 'asc';\n    this.firstnameSortType = 'asc';\n    this.lastnameSortType = 'asc';\n  }\n  ngOnInit() {\n    console.log('Starting \"findall\" API call');\n    this.loading = true;\n    this.userService.findAll().subscribe({\n      next: apiData => {\n        const {\n          status,\n          data\n        } = apiData;\n        this.userList = data;\n        console.log(status, data);\n      },\n      error: error => {\n        this.loading = false;\n        console.log(error);\n      },\n      complete: () => {\n        this.loading = false;\n        console.log('API call completed');\n      }\n    });\n  }\n  toggleSort(key) {\n    switch (key) {\n      case 'username':\n        this.usernameSortType = this.usernameSortType === 'asc' ? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.usernameSortType]);\n        break;\n      case 'name':\n        this.firstnameSortType = this.firstnameSortType === 'asc' ? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.firstnameSortType]);\n        break;\n      case 'surname':\n        this.lastnameSortType = this.lastnameSortType === 'asc' ? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.lastnameSortType]);\n        break;\n      default:\n        break;\n    }\n  }\n}\nUsersListComponent.ɵfac = function UsersListComponent_Factory(t) {\n  return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nUsersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersListComponent,\n  selectors: [[\"app-users-list\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"mt-2 row alert alert-info\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"mt-2\", \"row\", \"alert\", \"alert-info\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [1, \"btn-secondary\", \"btn-sm\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function UsersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UsersListComponent_div_0_Template, 4, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersListComponent_div_1_Template, 20, 1, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.userList.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["orderBy","i0","UsersListComponent","constructor","userService","ngOnInit","console","log","loading","findAll","subscribe","next","apiData","status","data","userList","error","complete","toggleSort","key","usernameSortType","firstnameSortType","lastnameSortType","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Asus\\exercisetracker-frontend\\src\\app\\user\\users-list\\users-list.component.ts","C:\\Users\\Asus\\exercisetracker-frontend\\src\\app\\user\\users-list\\users-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { User, UserAPIList } from '../user.interfaces';\nimport { orderBy } from 'lodash-es'\n\n\n@Component({\n  selector: 'app-users-list',\n  templateUrl: './users-list.component.html',\n  styleUrls: ['./users-list.component.css']\n})\nexport class UsersListComponent implements OnInit {\n  constructor(private userService: UserService ) {}\n\n  loading = false;\n  userList : User[] = []\n\n  usernameSortType: 'asc'|'desc' = 'asc'\n  firstnameSortType: 'asc'|'desc' = 'asc'\n  lastnameSortType: 'asc'|'desc' = 'asc'\n\n\n  ngOnInit(): void {\n    console.log('Starting \"findall\" API call');\n   this.loading = true;\n   this.userService.findAll().subscribe({\n    next: (apiData: UserAPIList) => {\n      const {status, data } = apiData;\n      this.userList = data\n      console.log(status, data)\n    },\n    error: (error) => {\n      this.loading = false;\n      console.log(error);\n    },\n    complete: () => {\n      this.loading = false;\n      console.log('API call completed')\n    }\n  })\n  }\n\n  toggleSort(key:string) {\n    switch (key) {\n      case 'username':\n        this.usernameSortType = \n        this.usernameSortType === 'asc'? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.usernameSortType])\n        break;\n        case 'name':\n        this.firstnameSortType = \n        this.firstnameSortType === 'asc'? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.firstnameSortType])\n        break;\n        case 'surname':\n        this.lastnameSortType = \n        this.lastnameSortType === 'asc'? 'desc' : 'asc';\n        this.userList = orderBy(this.userList, [key], [this.lastnameSortType])\n        break;\n      default:\n        break;\n    }\n  }\n\n}\n","<div *ngIf = \"loading\" class=\"mt-2 row alert alert-info\">\n    Loading Users...\n<div class=\"spinner-border text-primary\" role = \"status\">\n    <span class=\"sr-only\"></span>\n</div>\n</div>\n\n\n<div *ngIf = \"userList.length\">\n    <table class=\"table table-striped\">\n        <thead>\n            <th scope=\"col\">\n               <button\n               (click)=\"toggleSort('username')\"\n                class=\"btn-secondary btn-sm\"> \n                username</button>\n            </th>\n            <th scope=\"col\">\n                <button\n                (click)=\"toggleSort('name')\"\n                 class=\"btn-secondary btn-sm\"> \n                 First</button>\n            </th>\n            <th scope=\"col\">\n                <button\n               (click)=\"toggleSort('surname')\"\n                class=\"btn-secondary btn-sm\"> \n                Last</button>\n            </th>\n            <th scope=\"col\">\n                Email\n            </th>\n            <th scope=\"col\">\n                bodyMeasurements\n            </th>\n            <th scope=\"col\">\n                Phone\n            </th>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let user of userList\">\n                <td>\n                    {{ user.username }}\n                </td>\n                <td>\n                    {{ user.name }}\n                </td>\n                <td>\n                    {{ user.surname }}\n                </td>\n                <td>\n                    {{ user.email }}\n                </td>\n                <td>\n                    {{ user.bodyMeasurements.height }} <br>\n                    {{ user.bodyMeasurements.weight }}\n                </td>\n                <td>\n                    <div *ngFor = \"let phone of user.phone\">\n                        <strong>{{ phone.type }}</strong> <br>\n                        {{ phone.number }}\n                    </div>\n                </td>\n\n            </tr>\n        </tbody>\n    </table>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}